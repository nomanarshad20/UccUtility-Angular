<script src='https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.js'></script>
<script src='https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js'></script>
<div class="container">






  <div class="jumbotron text-center">
    <h1>UCC Online</h1>
    <h3>California Secretary of State</h3>
    <h5><b>Disclaimer:</b> This tool allows you to search the California Secretary of State's Uniform Commercial
      Code
      database for abstracts of information for lien notices that have been filed with this office. The UCC Search
      is
      updated as documents are filed. The data provided is not a complete or certified record.</h5>
    <mat-tab-group dynamicHeight>
      <mat-tab label="Search">

        <!--  -->
        <div style="margin-top: 10px;">
        <div class="form-outline">
          <input id="search-focus" type="search" id="form1" [(ngModel)]="scrappingModel.SEARCH_VALUE"
            class="form-control" placeholder="Name or File number" />
        </div>
      </div>
        <button mat-raised-button style="margin-top: 10px; margin-bottom: 10px;" type="button" class="btn btn-primary"
          (click)="GetData()">
          <i class="fa fa-search">Search</i>
        </button>

        <!--  -->

      </mat-tab>
      <mat-tab label="Advance Search">


        <!--  -->

        <div class="container-fluid">

          <!--  row 1 start  -->

          <div class="row" style="margin-top: 10px; margin-bottom: 10px;">
            <div class="col-md-12">
              <input id="search-focus" type="search" [(ngModel)]="scrappingModel.SEARCH_VALUE" class="form-control"
                placeholder="Name or File number" />
            </div>
          </div>
          <div class="row">
            <div class="col-xs-6">
              <select  class="custom-select form-control" id="inputGroupSelect01" [(ngModel)]="scrappingModel.STATUS">
                <option value="ALL" selected>All</option>
                <option value="ACTIVE_UNLAPSED">Active (unlapsed)</option>
                <option value="ACTIVE_LAPSED_UNLAPSED">Active (lapsed and unlapsed)</option>
              </select>
            </div>
            <div class="col-xs-6">
              <select class="custom-select form-control" id="inputGroupSelect02" [(ngModel)]="scrappingModel.RECORD_TYPE_ID">
                <option value="0" selected>All</option>
                <option value="2170">Financing Statement</option>
                <option value="2154">Judgment Lien</option>
                <option value="2175">State Tax Lien</option>
                <option value="2174">Federal Tax Lien</option>
                <option value="2155">Attachment</option>
              </select>
            </div>
          </div>

          <!-- row 2 start  -->


          <div class="row">
            <div class="col-xs-6">
              <mat-form-field style="padding-right: 20px;">
                <mat-label>File Date Start</mat-label>
                <input  matInput [matDatepicker]="fileDateStart"
                  placeholder="Start Date"     [(ngModel)]="scrappingModel.FILING_DATE_START">
                <mat-datepicker-toggle matSuffix [for]="fileDateStart"></mat-datepicker-toggle>
                <mat-datepicker #fileDateStart></mat-datepicker>
              </mat-form-field>
            </div>
            <div class="col-xs-6">
              <mat-form-field>
                <mat-label>File Date End</mat-label>
                <input  matInput [matDatepicker]="fileDateEnd"
                  placeholder="End date"  [(ngModel)]="scrappingModel.FILING_DATE_END">
                <mat-datepicker-toggle matSuffix [for]="fileDateEnd"></mat-datepicker-toggle>
                <mat-datepicker #fileDateEnd></mat-datepicker>
              </mat-form-field>
            </div>
          </div>


          <!-- row 3 start  -->


          <div class="row">
            <div class="col-xs-6">
              <mat-form-field style="padding-right: 20px;">
                <mat-label>Lapse Date Start</mat-label>
                <input  matInput [matDatepicker]="lapseDateStart"
                  placeholder="Start date"  [(ngModel)]="scrappingModel.LAPSE_DATE_START">
                <mat-datepicker-toggle matSuffix [for]="lapseDateStart"></mat-datepicker-toggle>
                <mat-datepicker #lapseDateStart></mat-datepicker>
              </mat-form-field>
            </div>
            <div class="col-xs-6">
              <mat-form-field>
                <mat-label>Lapse Date End</mat-label>
                <input  matInput [matDatepicker]="lapseDateEnd"
                  placeholder="End date" [(ngModel)]="scrappingModel.LAPSE_DATE_END">
                <mat-datepicker-toggle matSuffix [for]="lapseDateEnd"></mat-datepicker-toggle>
                <mat-datepicker #lapseDateEnd></mat-datepicker>
              </mat-form-field>
            </div>
          </div>

          <!--  row  3 end  -->


          <div class="row">
            <div class="col-xs-6">
              <button type="button" style="float: left; width: 430px;" class="btn btn-primary" (click)="GetData()">
                <i class="fa fa-search">Search</i>
              </button>
            </div>
          </div>
        </div>
        <!--  -->

      </mat-tab>

    </mat-tab-group>

  </div>


</div>







<!-- ***********   table   ********** -->


<br>
<br>
<br>
<div class="container-fluid" style="width: 80%; align-self: center;">

  <mat-card>



    <div class="filterCard mat-elevation-z8 ">

      <div class="" style="float: left;">
        <mat-chip-list aria-label="data area">
          <mat-chip color="secondary" class="text-white bg-info" selected>Search : {{cardSearchValue}}</mat-chip>
          <mat-chip color="secondary" class="text-white bg-info" selected> Total : {{listCount}}</mat-chip>
          <mat-chip color="secondary" class="text-white bg-info" selected>Selected : {{selectedRowCount}}</mat-chip>
          <mat-chip color="primary" selected   *ngIf= "selectedRowCount>0" (click)="downloadSelectedRowsPdfMergeFile()"  >Downlaod pdf Merge File </mat-chip>
        </mat-chip-list>
      </div>


      <div class="filterInput">
        <input class="form-control" type="text" name="search" (keyup)="applyFilter($event)" autocomplete="off"
          placeholder="Filter Record">
      </div>

    </div>






    <div class="table-responsive text-center justify-content-center">
      <table   mat-table [dataSource]="dataSource" matSort class="table table-striped table-hover mat-elevation-z8 my-ripple-container">
        <ng-container  matColumnDef="{{column}}" *ngFor="let column of displayedColumns">
          <th class="mat-sort-header-sorted text-white bg-info" mat-header-cell *matHeaderCellDef mat-sort-header>
            {{column}} </th>
          <td matRipple  mat-cell *matCellDef="let element" style="text-align:center;" class="center-block my-ripple-container" >
            <div *ngIf="column==='checked'"> <mat-checkbox  [checked]="scrappingModel.CHECKBOX" (change)="selectedRowCheckbox($event, element['File Number'])"  ></mat-checkbox> </div>
            <div *ngIf="column==='operation'"> <button (click)="openDialog(element['id'] , element['File Number'] )" mat-stroked-button color="accent">Details</button> </div>
            <div *ngIf="column!=='checked' && column!=='operation'" class="center-block"   >{{element[column]}} </div>
          </td>
        </ng-container>

        <!-- (click)="openDialog(element['id'] , element['File Number'] )" -->
         <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>







        <!-- Row shown when there is no matching data. -->
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">No data matching the filter "</td>
        </tr>

      </table>
      <mat-paginator class="text-white bg-info" [pageSize]="10" [pageSizeOptions]="[5, 10, 20, 50]"
        [showFirstLastButtons]="true">
      </mat-paginator>

    </div>

  </mat-card>


  <div style="margin: 20px; padding: 20px;"> </div>
</div>


<div class="container">




</div>

